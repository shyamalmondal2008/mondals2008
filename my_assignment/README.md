
# My Assignment

This document contains details and step by step execution process.

Python 3.8 would be compatible to execute this code, some packages are installed using my local python 3.10.
So incase doesn't support better would be reinstall by using pip command.


## Step 1::Analyze and transform playlists data

1. normalizing_playlist.py is created to perform task Step-1

2. AWS Lambda is used as Solution environment.

3. Suggested not to execute Step#1 as it will be invoked by Script created at Step#3

4. NORMALIZATION_MAX is used as Configuration environmental variable of lambda function.

5. V_AWS_ACCESS_KEY_ID & V_AWS_SECRET_ACCESS_KEY also send as Configuration environmental variable of lambda function. 

6. Key bucket for the output files generated by lambda function is "lambda-func-op"

7. Guide_AWS_Athena.sql is used all the Athena table creations statement.

8. Data pipeline here: Upload to S3 --> Athena --> Lambda(transformation)--> Result in S3(under lambda-func-op)

## Step 2:: Load and match tracks to playlists

1. Data Analytics are done here in Athena as mentioned in STEP#2
step wise in the document "Guide_AWS_Athena.sql" 

2. playlist_tracking_stats.py provide the solution here by taking inputs from the queries from STEP#2 of "Guide_AWS_Athena.sql"

3. playlist_tracking_stats.py also will be invoked at Step#3
## Step 3::Build a REST service:


/******************Flask for Creating WEB Service API***************/

1. Suggested to integrate, execute or deploy by using SAM.

2. Create Virtual Environment using
 pip3 install pipenv
 
3. Activate Virtual environment & generated Pipfile will have all dependencies.
pipenv shell

4. Install required below packages to run flask program

pipenv install flask-sqlalchemy flask_marshmallow marshmallow-sqlalchemy flask-lambda-python36 SQLAlchemy

5. Other libraries to be installed from requirement.txt file or mentioned normalizing_playlist.yaml and build_rest_api_python_flask.yaml file

6. Install PostmanAPI using (Postman-win64-Setup.exe) locally for testing API endpoints


7. Execute build_rest_api_python_flask.py , which will Invoke step 1 & 2



## Environment Variables : (used in Step 1 & 2 for S3 Aceess)

To run this project, you will need to add the following environment variables to your .env file

NORMALIZATION_MAX = 100

AWS_ACCESS_KEY_ID = <put access key>

AWS_SECRET_ACCESS_KEY = <put access key>


## Authors

- [@Shyamal](https://github.com/shyamalmondal2008/mondals2008/my_assignment)

## Color Reference

| Color             | Hex                                                                |
| ----------------- | ------------------------------------------------------------------ |
| Example Color | ![#0a192f](https://via.placeholder.com/10/0a192f?text=+) #0a192f |
| Example Color | ![#f8f8f8](https://via.placeholder.com/10/f8f8f8?text=+) #f8f8f8 |
| Example Color | ![#00b48a](https://via.placeholder.com/10/00b48a?text=+) #00b48a |
| Example Color | ![#00d1a0](https://via.placeholder.com/10/00b48a?text=+) #00d1a0 |

